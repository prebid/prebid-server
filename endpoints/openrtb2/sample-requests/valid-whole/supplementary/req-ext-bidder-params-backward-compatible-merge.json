{
  "description": "add missing bidder-params from req.ext.prebid.bidderparams to imp[].ext for backward compatibility",
  "mockBidRequest": {
    "id": "some-request-id",
    "site": {
      "page": "test.somepage.com"
    },
    "imp": [
      {
        "id": "my-imp-id",
        "banner": {
          "format": [
            {
              "w": 300,
              "h": 600
            }
          ]
        },
        "pmp": {
          "deals": [
            {
              "id": "some-deal-id"
            }
          ]
        },
        "ext": {
          "appnexus": {
            "placementId": 111111
          },
          "pubmatic": {
            "wrapper": {
              "profile": 1234
            }
          },
          "prebid": {
            "bidder": {}
          }
        }
      }
    ],
    "ext": {
      "prebid": {
        "targeting": {
          "pricegranularity": "low"
        },
        "cache": {
          "bids": {}
        },
        "bidderparams": {
          "appnexus": {
            "placementId": 222222
          },
          "pubmatic": {
            "publisherId": "5678",
            "wrapper": {
              "profile": 5678,
              "version": 2
            }
          }
        }
      }
    }
  },
  "expectedReqExt": {
    "prebid": {
      "targeting": {
        "pricegranularity": "low"
      },
      "cache": {
        "bids": {}
      },
      "bidderparams": {
        "appnexus": {
          "placementId": 222222
        },
        "pubmatic": {
          "publisherId": "5678",
          "wrapper": {
            "profile": 5678,
            "version": 2
          }
        }
      }
    }
  },
  "expectedImpExt": {
    "appnexus": {
      "placementId": 111111
    },
    "pubmatic": {
      "publisherId": "5678",
      "wrapper": {
        "profile": 1234
      }
    },
    "prebid": {
      "bidder": {}
    }
  },
  "expectedReturnCode": 200
}